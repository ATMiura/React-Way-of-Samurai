{"version":3,"sources":["utils/validators/validators.js","components/Navbar/Navbar.module.css","api/api.js","components/Header/Header.module.css","components/Common/Preloader/Preloader.js","serviceWorker.js","components/Navbar/Friends.jsx","redux/sidebar-reducer.js","utils/objects-helpers/objects-helpers.js","redux/usersReducer.js","components/Navbar/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/Common/Paginator/paginator.js","components/Users/User/UserItem.js","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","redux/authReducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.js","redux/appReducer.js","redux/redux-store.js","App.js","index.js","components/Common/FormControls/FormControls.js","components/Common/FormControls/FormControls.module.css","components/Common/Paginator/paginator.module.css","components/Common/Preloader/preloader.module.css","redux/profile-reducer.js","components/hoc/withAuthRedirect.js","redux/dialogsPage-reducer.js","components/Users/User.module.css"],"names":["__webpack_require__","d","__webpack_exports__","required","maxLengthCreator","value","maxLength","length","concat","module","exports","sidebar","nav","item","activeLink","friends","friends__title","friends__list","friends__item","friends__avatar","friends__name","authAPI","usersAPI","profileAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","baseURL","headers","API-KEY","me","get","logIn","email","password","rememberMe","arguments","undefined","post","logOut","delete","getUsers","currentPage","pageSize","then","response","data","getFriends","follow","userId","unFollow","getProfile","console","warn","getStatus","updateStatus","status","put","header","header__logo","logo","logo__picture","logo__image","login","login__name","btn","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_preloader_module_css__WEBPACK_IMPORTED_MODULE_1__","_preloader_module_css__WEBPACK_IMPORTED_MODULE_1___default","Preloader","props","a","createElement","className","s","preloader","spinner","Boolean","window","location","hostname","match","Friends","react_default","friendElements","map","f","key","id","NavLink","to","userStyles","user__link","users__picture","src","photos","small","profile","alt","users__image","name","initialState","isFetching","totalUsersCount","sidebarReducer","state","action","type","Object","objectSpread","count","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","wrap","_context2","prev","next","sent","stop","_x2","apply","this","followUnfollowFlow","_ref3","_callee3","apiMethod","actionCreator","_context3","resultCode","_x3","_x4","_x5","_x6","usersReducer","followed","toConsumableArray","filter","FriendsContainer","Fragment","Navbar_Friends","React","Component","connect","usersPage","setFriends","setTotalUsersCount","Navbar","activeClassName","active","Navbar_FriendsContainer","Paginator","_ref","onPageChanged","totalItemsCount","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","pagination__list","onClick","p","pagination__item","e","UserItem","user","users__avatar","disabled","some","users__fullName","users__status","location__country","location__city","Users","objectWithoutProperties","paginator","users__list","User_UserItem","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","_this","requestUsers","_this$props","components_Users_Users","assign","compose","withAuthRedirect","_ref4","_callee4","_context4","bind","_x7","_ref5","_callee5","_context5","_x8","page","_callee","_context","totalCount","_x","isAuth","setAuthUserData","payload","getAuthUserData","_response$data$data","authReducer","Header","HeaderContainer","components_Header_Header","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","style","formSummaryError","message","messages","stopSubmit","_error","Redirect","formData","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Header_HeaderContainer","components_Navbar_Navbar","Route","path","render","Suspense","fallback","Users_UsersContainer","components_Login_Login","AppContainer","withRouter","promise","Promise","all","SamiuraJSApp","BrowserRouter","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","FormControl","input","_ref$meta","meta","touched","children","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","styles","formControl","Textarea","child","restProps","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","placeholder","validators","component","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","form-control","spin","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","postsId","mapStateToPropsForRedirect","RedirectComponent","_React$Component","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__","_super","_createSuper","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","dialogs","avatar","sendMessageCreator","newMessageBody","body","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","C_Frontend_React_React_Way_of_Samurai_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","user__chat","user__message","user__left","user__right","usersItems","users__follow","show__more"],"mappings":"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","file":"static/js/main.5794f17b.chunk.js","sourcesContent":["export const required = value => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > 30) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Navbar_sidebar__3eiJi\",\"nav\":\"Navbar_nav__1eSUK\",\"item\":\"Navbar_item__1ktp2\",\"activeLink\":\"Navbar_activeLink__1ygRg\",\"friends\":\"Navbar_friends__1L2E2\",\"friends__title\":\"Navbar_friends__title__MvbF5\",\"friends__list\":\"Navbar_friends__list__1shwx\",\"friends__item\":\"Navbar_friends__item__3Rox6\",\"friends__avatar\":\"Navbar_friends__avatar__GC0dG\",\"friends__name\":\"Navbar_friends__name__ufgWi\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '2763c815-b574-4e65-88c7-78e138d5bb90'\r\n    }\r\n});\r\n\r\nexport const authAPI = {\r\n    me(){\r\n        return instance.get(`auth/me`);\r\n    },\r\n    logIn(email, password, rememberMe = false){\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logOut(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    getFriends() {\r\n        return instance.get(`users?friend=true`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object');\r\n        return profileAPI.getProfile(userId);\r\n    },\r\n\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, { status: status });\r\n    }\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2o6YX\",\"header__logo\":\"Header_header__logo__15t72\",\"logo\":\"Header_logo__MyBlm\",\"logo__picture\":\"Header_logo__picture__1YLzY\",\"logo__image\":\"Header_logo__image__gRy5K\",\"login\":\"Header_login__Ah4On\",\"login__name\":\"Header_login__name__2mX76\",\"btn\":\"Header_btn__3nbrh\"};","import React from \"react\";\r\nimport s from './preloader.module.css';\r\n\r\nlet Preloader = (props) => {\r\n    return(\r\n        <div className={s.preloader}>\r\n            <div className={s.spinner}></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport userStyles from '../Users/User.module.css';\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Friends  = (props) => {\r\n    if(!props.friends) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    let friendElements = props.friends.map(f => {\r\n        return (\r\n            <div className={s.friends__item} key={f.id}>\r\n                <NavLink to={'/profile/' + f.id} className={userStyles.user__link}>\r\n                    <picture className={userStyles.users__picture}>\r\n                        <img src={f.photos.small != null ? f.profile.photos.small : 'https://i.pravatar.cc/270' } alt=\"\" className={userStyles.users__image} />\r\n                    </picture>\r\n                    <div className={s.friends__name}>{f.name}</div>\r\n                </NavLink>\r\n            </div>\r\n        )\r\n    });\r\n\r\n    return props.friends.length ? <div className={s.friends}>\r\n        <h3 className={s.friends__title}>Список друзей</h3>\r\n        <div className={s.friends__list}>\r\n            {friendElements}\r\n        </div>\r\n    </div> : null\r\n};\r\n\r\n\r\nexport default Friends;","const FRIENDS_LIST = 'FRIENDS_LIST';\r\nconst TOGGLE_IS_FETCHING = 'IS_FETCHING';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\n\r\nlet initialState = {\r\n    friends: [],\r\n    isFetching: false,\r\n    totalUsersCount: 0,\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FRIENDS_LIST:\r\n            return {...state, friends: action.friends }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setFriends = (friends) => ({ type: FRIENDS_LIST, friends });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\n\r\nexport default  sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objects-helpers/objects-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst TOGGLE_IS_FETCHING = 'IS_FETCHING';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    friends: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users }\r\n        }\r\n        case SET_FRIENDS: {\r\n            return {...state, friends: action.friends }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id=>id===!action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setFriends = (friends) => ({ type: SET_FRIENDS, friends });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage: currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nexport const getFriends = () => {\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getFriends();\r\n\r\n        dispatch(setFriends(response.items));\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0)  {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n    dispatch(getFriends());\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n};\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\nimport {setFriends, toggleIsFetching, setTotalUsersCount} from \"../../redux/sidebar-reducer\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {getFriends} from \"../../redux/usersReducer\";\r\n\r\nclass FriendsContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n        this.props.toggleIsFetching(true);\r\n        this.props.getFriends();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <>\r\n                { this.props.isFetching ? <Preloader /> : null }\r\n                <Friends {...this.props} />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        sidebar: state.sidebar,\r\n        friends: state.usersPage.friends,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {setFriends, toggleIsFetching, setTotalUsersCount, getFriends})(FriendsContainer);","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsContainer from \"./FriendsContainer\";\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <div className={s.sidebar}>\r\n            <nav className={s.nav}>\r\n                <div className={s.item}>\r\n                    <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n                </div>\r\n                <div className={`${s.item} ${s.active}`}>\r\n                    <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n                </div>\r\n                <div className={`${s.item} ${s.active}`}>\r\n                    <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n                </div>\r\n                {/*<div className={s.item}>\r\n                    <a>News</a>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>Music</a>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>Settings</a>\r\n                </div>*/}\r\n            </nav>\r\n            <FriendsContainer />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import React, {useState} from \"react\";\r\nimport s from \"./paginator.module.css\";\r\n\r\nlet Paginator = ({currentPage, onPageChanged, totalItemsCount, pageSize, portionSize=10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for(let i=1; i <=pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <>\r\n            <div className={s.pagination}>\r\n                <ul className={s.pagination__list}>\r\n                    {portionNumber > 1 && <button onClick={() => { setPortionNumber(portionNumber-1) }}>Prev</button>}\r\n                    {pages\r\n                        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                        .map(p => {\r\n                        return (\r\n                            <li\r\n                                key={p}\r\n                                className={`${s.pagination__item} ${currentPage === p && s.active}`}\r\n                                onClick={(e) => {onPageChanged(p)}}> {p}\r\n                            </li>\r\n                        )\r\n                    })}\r\n                    {portionCount > portionNumber && <button onClick={() => { setPortionNumber(portionNumber + 1) }}>Next</button>}\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"../User.module.css\";\r\n\r\nconst UserItem = ({user, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <>\r\n            <div className={s.user + ' ' + s.active}>\r\n                <div className={s.users__avatar}>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <picture className={s.users__picture}>\r\n                            <img src={user.photos.small != null ? user.photos.small : 'https://i.pravatar.cc/270' } alt=\"\" className={s.users__image}/>\r\n                        </picture>\r\n                    </NavLink>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id=>id===user.id)} onClick={() => { unFollow(user.id) }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id=>id===user.id)} onClick={() => { follow(user.id); }}>Follow</button>\r\n                    }\r\n                </div>\r\n                <div>\r\n                    <div className={s.users__fullName}>{user.name}</div>\r\n                    <div className={s.users__status}>{user.status}</div>\r\n                </div>\r\n                <div className={s.location}>\r\n                    <div className={s.location__country}>user.location.country</div>\r\n                    <div className={s.location__city}>user.location.city</div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default UserItem;","import React from \"react\";\r\nimport Paginator from \"../Common/Paginator/paginator\";\r\nimport UserItem from \"./User/UserItem\";\r\nimport s from \"./User.module.css\";\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n\r\n    return (\r\n        <>\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n            />\r\n\r\n            <div className={s.users}>\r\n                <div className={s.users__list}>\r\n                    {users.map(u =>\r\n                        <UserItem\r\n                            key={u.id} user={u}\r\n                            followingInProgress={props.followingInProgress}\r\n                            unFollow={props.unFollow}\r\n                            follow={props.follow}\r\n                        />)}\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users,) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};","import {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unFollow,\r\n    toggleFollowingProgress,\r\n    requestUsers, getFriends,\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getCurrentPage,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getIsFetching,\r\n    getFollowingInProgress,\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                { this.props.isFetching ? <Preloader /> : null }\r\n                <Users key={this.props.userId}\r\n                    onPageChanged={this.onPageChanged}\r\n                    {...this.props}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps,{ follow, unFollow, setCurrentPage, toggleFollowingProgress, requestUsers, getFriends}))\r\n(UsersContainer);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst TOGGLE_IS_FETCHING = 'IS_FETCHING';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: {userId, email, login, isAuth} });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\n\r\nexport const getAuthUserData = () => async(dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const logIn = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.logIn(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\n\r\nexport const logOut = () => async (dispatch) => {\r\n    let response = await authAPI.logOut();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default  authReducer;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <>\r\n            <header className={s.header}>\r\n                <div className={s.header__logo}>\r\n                    <div className={s.logo}>\r\n                        <picture className={s.logo__picture}>\r\n                            <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png' alt=\"\" className={s.logo__image} />\r\n                        </picture>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={s.login}>\r\n                    {\r\n                        props.isAuth\r\n                            ? <><div className={s.btn + ' ' + s.login__name}>{props.login}</div><button className={s.btn} onClick={props.logOut}>Logout</button></>\r\n                            : <NavLink to={'/login'} className={s.btn}>Login</NavLink>\r\n                    }\r\n                </div>\r\n            </header>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/authReducer\";\r\nimport Header from \"./Header\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header {...this.props} />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {logIn, logOut} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../Common/FormControls/FormControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return(\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, {type:\"password\"})}\r\n            {createField(null, \"rememberMe\", [], Input, {type:\"checkbox\"}, \"Remember Me\",)}\r\n            { error && <div className={style.formSummaryError}>{ error }</div> }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.logIn(formData.email, formData.password, formData.rememberMe)\r\n    };\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {logIn, logOut})(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogsPage-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n});\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nexport default store;","import React from 'react';\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={() => {\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <DialogsContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n                    <Route path='/profile/:userId?' render={() => {\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <ProfileContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nlet SamiuraJSApp = (props) => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    )\r\n};\r\n\r\nexport default SamiuraJSApp;","import React from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport SamiuraJSApp from \"./App\";\r\n\r\nReactDOM.render(<SamiuraJSApp />, document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport styles from './FormControls.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <>\r\n            <label className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n                {children}\r\n                {hasError && <span>{error}</span>}\r\n            </label>\r\n        </>\r\n    )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...props.input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props= {}, text = \"\") => (\r\n    <div>\r\n        <Field\r\n            placeholder={placeholder}\r\n            name={name}\r\n            component={component}\r\n            validate={validators}\r\n            {...props}\r\n        />{text && <span>{text}</span>}\r\n    </div>\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormControls_form-control__54mpV\",\"error\":\"FormControls_error__28fAX\",\"formSummaryError\":\"FormControls_formSummaryError__JnM5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"paginator_pagination__1dKcM\",\"pagination__list\":\"paginator_pagination__list__LWXlL\",\"pagination__item\":\"paginator_pagination__item__2HnmG\",\"active\":\"paginator_active__34C_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__28XG2\",\"spinner\":\"preloader_spinner__5H6MU\",\"spin\":\"preloader_spin__3kf8M\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: '1 Hi, how are you?', likesCount: 11},\r\n        {id: 2, message: '2 It\\'s my first post', likesCount: 12},\r\n        {id: 3, message: '3 Hi, how are you?', likesCount: 13},\r\n        {id: 4, message: '4 It\\'s my first post', likesCount: 14}\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, { id: 5, message: action.newPostText, likesCount: 0}],\r\n                newPostText: '',\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p=> p.id!=action.postsId),\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const deletePost = (postsId) => ({ type: DELETE_POST, postsId });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (!response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport default  profileReducer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n};","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, avatar: 'https://i.pravatar.cc/300', name: 'Dimych'},\r\n        {id: 2, avatar: 'https://i.pravatar.cc/300', name: 'Andrew'},\r\n        {id: 3, avatar: 'https://i.pravatar.cc/300', name: 'Sveta'},\r\n        {id: 4, avatar: 'https://i.pravatar.cc/300', name: 'Sasha'},\r\n        {id: 5, avatar: 'https://i.pravatar.cc/300', name: 'Viktor'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi', },\r\n        {id: 2, message: 'How is your it-kamasutra?', },\r\n        {id: 3, message: 'Yo', },\r\n        {id: 4, message: 'Yo', },\r\n        {id: 5, message: 'Yo', }\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"User_users__gj35h\",\"user\":\"User_user__1hVlA\",\"user__chat\":\"User_user__chat__2rW2U\",\"users__avatar\":\"User_users__avatar__1TrmR\",\"users__picture\":\"User_users__picture__T1Mkb\",\"users__image\":\"User_users__image__3qhsL\",\"user__message\":\"User_user__message__3G-My\",\"user__left\":\"User_user__left__12_w2\",\"user__right\":\"User_user__right__2RRzI\",\"users__list\":\"User_users__list__2ZkKv\",\"usersItems\":\"User_usersItems__2SheZ\",\"active\":\"User_active__3royG\",\"user__link\":\"User_user__link__12cPe\",\"users__follow\":\"User_users__follow__1chdX\",\"users__fullName\":\"User_users__fullName__274p7\",\"users__status\":\"User_users__status__3Vc2F\",\"location\":\"User_location__2cj-p\",\"location__country\":\"User_location__country__2cI2W\",\"location__city\":\"User_location__city__WSj5r\",\"show__more\":\"User_show__more__1Fr1c\"};"],"sourceRoot":""}