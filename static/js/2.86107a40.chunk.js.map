{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","descriptionBlock","profile","profile__avatar","profile__info","profile__description","profile__picture","profile__image","profile__status","profile__status__item","profile__status__input","profile__about","profile__jobStatus","contacts","contacts__title","contacts__list","contacts__item","contacts__link","postsBlock","posts","item","ProfileStatusWithHooks","_ref","propStatus","updateStatus","_useState","useState","_useState2","Object","slicedToArray","editMode","setEditMode","_useState3","_useState4","status","setStatus","useEffect","react_default","a","createElement","Fragment","className","s","onDoubleClick","autoFocus","onBlur","onChange","e","currentTarget","value","ProfileInfo","Preloader","ContactsElements","entries","map","_ref2","c","_ref3","key","href","concat","id","userId","src","photos","large","alt","ProfileInfo_ProfileStatusWithHooks","aboutMe","lookingForAJobDescription","Post","props","message","likesCount","MyPosts","React","memo","PostsElements","toConsumableArray","reverse","p","MyPosts_Post_Post","AddNewPostReduxFrom","onSubmit","values","addPost","newPostText","maxLengthCreator10","maxLengthCreator","reduxForm","form","handleSubmit","Field","component","Textarea","placeholder","name","validate","required","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","this","match","params","loggedUserId","history","push","getUserProfile","getStatus","components_Profile_Profile","assign","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/2.86107a40.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2u7o7\",\"profile\":\"ProfileInfo_profile__4Wo2O\",\"profile__avatar\":\"ProfileInfo_profile__avatar__3tLub\",\"profile__info\":\"ProfileInfo_profile__info__3k4pR\",\"profile__description\":\"ProfileInfo_profile__description__2Q6--\",\"profile__picture\":\"ProfileInfo_profile__picture__2ZGJn\",\"profile__image\":\"ProfileInfo_profile__image__6_iRi\",\"profile__status\":\"ProfileInfo_profile__status__3y4Iq\",\"profile__status__item\":\"ProfileInfo_profile__status__item__2Thc9\",\"profile__status__input\":\"ProfileInfo_profile__status__input__aGLU4\",\"profile__about\":\"ProfileInfo_profile__about__eUZkD\",\"profile__jobStatus\":\"ProfileInfo_profile__jobStatus__AC79H\",\"contacts\":\"ProfileInfo_contacts__2J0Mb\",\"contacts__title\":\"ProfileInfo_contacts__title__T308C\",\"contacts__list\":\"ProfileInfo_contacts__list__6h7Dv\",\"contacts__item\":\"ProfileInfo_contacts__item__1bgd7\",\"contacts__link\":\"ProfileInfo_contacts__link__1oLj2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1zmNO\",\"posts\":\"MyPosts_posts__2QT8t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3bJrW\"};","import React, {useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = ({propStatus, updateStatus}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(propStatus);\r\n\r\n    useEffect(() => {\r\n        setStatus(propStatus);\r\n    }, [propStatus]);\r\n\r\n    const activateEditMode = () => setEditMode(true);\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        updateStatus(status);\r\n    };\r\n    const onStatusChange = (e) => setStatus(e.currentTarget.value);\r\n\r\n    return (\r\n        <>\r\n            <div className={s.profile__status}>\r\n                { !editMode &&\r\n                    <div onDoubleClick={activateEditMode} className={s.profile__status__item}>\r\n                        {propStatus || 'Статус'}\r\n                    </div>\r\n                }\r\n\r\n                { editMode &&\r\n                    <div className={s.profile__status__item}>\r\n                        <input className={s.profile__status__input}\r\n                               autoFocus={true}\r\n                               onBlur={deactivateEditMode}\r\n                               onChange={onStatusChange}\r\n                               value={status}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n    if(!profile) {\r\n        return <Preloader/>\r\n    }\r\n    let ContactsElements = Object.entries(profile.contacts).map(([key,value],c) => {\r\n            if([value]!=='') return(\r\n                <div className={s.contacts__item}>\r\n                    <a href={`${value}`} className={s.contacts__link}>\r\n                        {`${key}`}\r\n                    </a>\r\n                </div>\r\n        )}\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div className={s.profile} id={profile.userId}>\r\n                <div className={s.profile__info}>\r\n                    <div className={s.profile__avatar}>\r\n                        <picture className={s.profile__picture}>\r\n                            <img src={profile.photos.large != null ? profile.photos.large : 'https://i.pravatar.cc/270' } alt=\"\" className={s.profile__image}/>\r\n                        </picture>\r\n                    </div>\r\n                    <div className={s.profile__description}>\r\n\r\n                        <ProfileStatusWithHooks propStatus={status} updateStatus={updateStatus} />\r\n\r\n                        <div className={s.profile__about}>{profile.aboutMe}</div>\r\n                        <div className={s.profile__jobStatus}>{profile.lookingForAJobDescription}</div>\r\n                    </div>\r\n                </div>\r\n                <div className={s.contacts}>\r\n                    <h3 className={s.contacts__title}>Ищите меня тут</h3>\r\n                    <div className={s.contacts__list}>\r\n                        { ContactsElements }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n      <div className={s.item}>\r\n          <img src='https://i.pravatar.cc/270' alt=\"\" />\r\n          {props.message}\r\n          <div>\r\n              <span>like</span> {props.likesCount}\r\n          </div>\r\n      </div>\r\n  )\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../Common/FormControls/FormControls\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    let PostsElements = [...props.posts].reverse().map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount}/>);\r\n\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <AddNewPostReduxFrom onSubmit={onAddPost}/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {PostsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} placeholder={'Post message'} name={'newPostText'} validate={[required, maxLengthCreator10]} />\r\n            </div>\r\n            <div>\r\n                <button>Add message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst AddNewPostReduxFrom = reduxForm({\r\n    form: 'ProfileAddNewPostForm',\r\n})(AddNewPostForm);\r\n\r\nexport default MyPosts;","import {addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        },\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n            <MyPostsContainer />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if(!userId) {\r\n            userId = this.props.loggedUserId;\r\n            if(!userId){\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Profile\r\n                    {...this.props}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateStatus}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n    //withAuthRedirect,\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter)\r\n(ProfileContainer);"],"sourceRoot":""}